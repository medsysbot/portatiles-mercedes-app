{% extends 'base_adminlte.html' %}
{% block title %}Panel Clientes{% endblock %}
{% block description %}Consulta de servicios y datos personales{% endblock %}
{% block body_class %}hold-transition sidebar-mini layout-fixed panel-cliente{% endblock %}

{% block head_extra %}
{{ super() }}
{% endblock %}

{% block body %}
<div class="wrapper">
  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a href="/logout" id="btnLogout" class="boton-cerrar-sesion">Cerrar sesión</a>
      </li>
    </ul>
  </nav>

  <!-- Sidebar -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <a href="/panel_cliente" class="brand-link text-center">
      <span class="brand-text font-weight-light">Portátiles Mercedes</span>
    </a>
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column">
          <li class="nav-item"><a href="#seccion-datos-personales" class="nav-link"><i class="nav-icon fas fa-id-card"></i><p>Datos personales</p></a></li>
          <li class="nav-item"><a href="#seccion-alquileres" class="nav-link"><i class="nav-icon fas fa-toilet"></i><p>Alquileres</p></a></li>
          <li class="nav-item"><a href="#seccion-facturas-pendientes" class="nav-link"><i class="nav-icon fas fa-file-invoice"></i><p>Facturas pendientes</p></a></li>
        </ul>
      </nav>
    </div>
  </aside>

  <!-- Contenido principal -->
  <div class="content-wrapper">
    <section class="content">
      <div class="container-fluid">
        <div class="text-center">
          <img src="/app_publico/static/icons/registro-clientes.png" alt="Clientes" class="mb-2" width="80">
          <h1 id="bienvenida" class="titulo-panel mb-4">Panel de clientes</h1>
        </div>

        <!-- Resumen dashboard -->
        <div id="dashboard-resumen" class="mb-4">
          <div class="row">
            <div class="col-lg-3 col-sm-6"><div class="small-box bg-info"><div class="inner"><h3 id="dashFacturasCnt">0</h3><p>Facturas pendientes</p></div></div></div>
          </div>
        </div>

        <!-- Sección alquileres -->
        <div id="seccion-alquileres" class="card mb-4">
          <div class="card-header"><h3 class="card-title">Mis baños alquilados</h3></div>
          <div class="card-body">
            <div class="botones-acciones">
              <input type="text" id="busquedaAlquileres" class="form-control" placeholder="Buscar alquiler...">
              <button class="boton-buscar"><i class="fas fa-toilet"></i> Buscar</button>
              <button class="boton-eliminar">Eliminar</button>
            </div>
            <div class="table-responsive bg-light p-3">
              <table id="tablaAlquileres" class="pm-tabla">
                <thead>
                  <tr>
                    <th><input type="checkbox"></th><th>N° Baño</th><th>Cliente</th><th>DNI</th><th>Dirección</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Datos personales -->
        <div id="seccion-datos-personales" class="card mb-4">
          <div class="card-header"><h3 class="card-title">Datos personales</h3></div>
          <div class="card-body">
            <form id="formDatos" onsubmit="guardarDatos(event)">
              <div class="form-group"><label>Nombre</label><input type="text" id="nombre" class="form-control"></div>
              <button type="submit" class="btn btn-primary">Guardar</button>
            </form>
          </div>
        </div>

        <!-- Facturas pendientes -->
        <div id="seccion-facturas-pendientes" class="card mb-4">
          <div class="card-header"><h3 class="card-title">Facturas pendientes</h3></div>
          <div class="card-body">
            <div class="botones-acciones">
              <input type="text" id="busquedaFacturas" class="form-control" placeholder="Buscar factura...">
              <button class="boton-buscar"><i class="fas fa-file-invoice"></i> Buscar</button>
              <button class="boton-eliminar">Eliminar</button>
            </div>
            <div class="table-responsive bg-light p-3">
              <table id="tablaFacturasPendientes" class="pm-tabla">
                <thead>
                  <tr><th><input type="checkbox"></th><th>Fecha</th><th>Nº Factura</th><th>Cliente</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </section>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="/cliente_panel.js"></script>
{% endblock %}

