{% extends panel_template %}
{% block title %}Recursos Humanos{% endblock %}
{% block description %}Administraci√≥n de datos personales, salarios y ausencias{% endblock %}
{% block head_extra %}
{{ super() }}
{% endblock %}
{% block content %}
<h2 class="mb-3 mt-0">Recursos Humanos</h2>
  <div class="mb-3">
    <button class="btn btn-primary mr-2" id="tabDatosBtn"><i class="fas fa-id-card"></i> Datos Personales</button>
    <button class="btn btn-primary mr-2" id="tabSalariosBtn"><i class="fas fa-money-bill-wave"></i> Salarios</button>
    <button class="btn btn-primary" id="tabAusenciasBtn"><i class="fas fa-calendar-times"></i> Ausencias</button>
  </div>
  <div id="seccionDatos">
    <div class="d-flex flex-wrap align-items-center my-3">
      <div class="mb-2 flex-grow-1">
        <input type="text" id="busquedaDatos" class="form-control buscador-tabla" placeholder="Buscar...">
      </div>
      <div class="d-flex flex-wrap gap-2 ml-auto">
        <button id="btnBuscarDatos" class="btn btn-secondary">Buscar</button>
        {% if is_admin %}
        <a href="/admin/empleados_datos_personales/nuevo" class="btn btn-success"><i class="fas fa-id-card"></i> Agregar registro</a>
        <button id="btnEliminarDatos" class="btn btn-danger" disabled>Eliminar</button>
        {% endif %}
      </div>
    </div>
    <div class="table-responsive bg-light p-3">
    <table id="tablaDatos" class="table pm-tabla table-striped table-bordered">
      <thead>
        <tr>
          {% if is_admin %}<th></th>{% endif %}
          <th>Nombre</th>
          <th>DNI / CUIT / CUIL</th>
          <th>Email</th>
          <th>Ingreso</th>
          <th>Documento</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
<div id="seccionSalarios" class="d-none">
  <div class="d-flex flex-wrap align-items-center my-3">
    <div class="mb-2 flex-grow-1">
      <input type="text" id="busquedaSalarios" class="form-control buscador-tabla" placeholder="Buscar...">
    </div>
    <div class="d-flex flex-wrap gap-2 ml-auto">
      <button id="btnBuscarSalarios" class="btn btn-secondary">Buscar</button>
      {% if is_admin %}
      <a href="/admin/empleados_salarios/nuevo" class="btn btn-success"><i class="fas fa-money-bill-wave"></i> Agregar registro</a>
      <button id="btnEliminarSalarios" class="btn btn-danger" disabled>Eliminar</button>
      {% endif %}
    </div>
  </div>
  <div class="table-responsive bg-light p-3">
    <table id="tablaSalarios" class="table pm-tabla table-striped table-bordered">
      <thead>
        <tr>
          {% if is_admin %}<th></th>{% endif %}
          <th>Nombre</th>
          <th>DNI / CUIT / CUIL</th>
          <th>Salario</th>
          <th>Anticipo</th>
          <th>Saldo</th>
          <th>Recibo</th>
        </tr>
      </thead>
      <tbody></tbody>
  </table>
  </div>
</div>
<div id="seccionAusencias" class="d-none">
  <div class="d-flex flex-wrap align-items-center my-3">
    <div class="mb-2 flex-grow-1">
      <input type="text" id="busquedaAusencias" class="form-control buscador-tabla" placeholder="Buscar...">
    </div>
    <div class="d-flex flex-wrap gap-2 ml-auto">
      <button id="btnBuscarAusencias" class="btn btn-secondary">Buscar</button>
      {% if is_admin %}
      <a href="/admin/empleados_ausencias/nuevo" class="btn btn-success"><i class="fas fa-calendar-times"></i> Agregar registro</a>
      <button id="btnEliminarAusencias" class="btn btn-danger" disabled>Eliminar</button>
      {% endif %}
    </div>
  </div>
  <div class="table-responsive bg-light p-3">
    <table id="tablaAusencias" class="table pm-tabla table-striped table-bordered">
      <thead>
        <tr>
          {% if is_admin %}<th></th>{% endif %}
          <th>Nombre</th>
          <th>DNI / CUIT / CUIL</th>
          <th>Tipo</th>
          <th>Inicio</th>
          <th>Fin</th>
          <th>Certificado</th>
        </tr>
      </thead>
  <tbody></tbody>
  </table>
  </div>
</div>
{% block scripts %}
<script>const esAdmin = {{ 'true' if is_admin else 'false' }};</script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="/recursos_humanos.js"></script>
{% endblock %}
