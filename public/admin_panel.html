<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Panel de Administración</h1>
    <p>Acceso completo para la empresa.</p>

    <script>
        const token = sessionStorage.getItem('token');
        if (!token) {
            window.location.href = '/login.html';
        } else {
            fetch('/verificar_token', {
                method: 'POST',
                body: new URLSearchParams({ token })
            }).then(resp => resp.json()).then(data => {
                if (!data.valido || data.rol !== 'empresa') {
                    window.location.href = '/login.html';
                }
            }).catch(() => {
                window.location.href = '/login.html';
            });
        }
    </script>
</body>
</html>
